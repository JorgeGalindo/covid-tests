scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#333333", size = 0.25) +
geom_vline(xintercept=1, color = "#333333", size = 0.25) +
theme(panel.background = element_rect(fill="#f9f9f9"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.5),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(3, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#333333", size = 0.25) +
geom_vline(xintercept=1, color = "#333333", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(3, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(3, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(3, 1),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(3, 1),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(3, 1),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
testsabs_deaths_df <- tests_deaths_df %>%
mutate(pop=case_when(
country == "Argentina"  ~  44500000,
country == "Bolivia"  ~  11350000,
country == "Chile"  ~  18730000,
country == "Colombia"  ~  48200000,
country == "Costa Rica"  ~  4999000,
country == "Ecuador"  ~  17080000,
country == "Mexico"  ~  126200000,
country == "Panama"  ~  4177000,
country == "Paraguay"  ~  6956000,
country == "Peru"  ~  31995000
)
) %>%
mutate(tests=tests_thousand*pop/1000,
cases_tests=cases/tests,
rollmean_casestests=rollmean(cases_tests,na.pad=TRUE, align="right"),
cases_tests_character=as.character(round(cases_tests*100)),
cases_tests_character=paste0(cases_tests_character,"%"))
testsabs_deaths_df <- tests_deaths_df %>%
mutate(pop=case_when(
country == "Argentina"  ~  44500000,
country == "Bolivia"  ~  11350000,
country == "Chile"  ~  18730000,
country == "Colombia"  ~  48200000,
country == "Costa Rica"  ~  4999000,
country == "Ecuador"  ~  17080000,
country == "Mexico"  ~  126200000,
country == "Panama"  ~  4177000,
country == "Paraguay"  ~  6956000,
country == "Peru"  ~  31995000
)
) %>%
mutate(tests=tests_thousand*pop/1000,
cases_tests=cases/tests,
rollmean_casestests=rollmean(cases_tests,3,na.pad=TRUE, align="right"),
cases_tests_character=as.character(round(cases_tests*100)),
cases_tests_character=paste0(cases_tests_character,"%"))
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = rollmean_casestests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(3,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=3, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
?scale_color_viridis
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = rollmean_casestests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(3,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin = 0.8)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=3, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = rollmean_casestests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(3,40, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, end = 0.6)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=3, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = rollmean_casestests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(3,40, breaks = seq(3, 43, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, end = 0.6)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=3, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, end = 0.6)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=3, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, end = 0.6)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin=0.8, end = 0.8)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin=0.2, end = 0.2)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin=0.35, end = 0.35)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin=0.4, end = 0.4)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(2, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.5, colour = alpha("grey", 0.8))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin=0.4, end = 0.4)+
geom_hline(yintercept=0, color = "#000000", size = 0.25) +
geom_vline(xintercept=1, color = "#000000", size = 0.25) +
theme(panel.background = element_rect(fill="#fbfbfb"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.25),
panel.grid.minor = element_line(colour="#eeeeee", size=.25),
panel.spacing = unit(4, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1.25)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 0.75, colour = alpha("grey", 0.95))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin=0.4, end = 0.4)+
geom_hline(yintercept=0, color = "#000000", size = 0.5) +
geom_vline(xintercept=1, color = "#000000", size = 0.5) +
theme(panel.background = element_rect(fill="#f6f6f6"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#eeeeee", size=.5),
panel.grid.minor = element_line(colour="#eeeeee", size=.5),
panel.spacing = unit(4, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
test_ratios <- ggplot(data = testsabs_deaths_df)+
geom_line(aes(x = days_since_1stdeath, y = cases_tests , colour = country), size = 1.75)+
gghighlight(use_direct_label = FALSE,
unhighlighted_params = list(size = 1, colour = alpha("grey", 0.95))) +
facet_wrap(~ country, ncol = 2) +
scale_x_continuous(1,41, breaks = seq(1, 41, by = 10))+
scale_y_continuous(0,0.4, breaks = seq(0, 0.4, by = 0.1), expand = c(0, 0))+
scale_color_viridis(discrete = TRUE, begin=0.4, end = 0.4)+
geom_hline(yintercept=0, color = "#000000", size = 0.75) +
geom_vline(xintercept=1, color = "#000000", size = 0.75) +
theme(panel.background = element_rect(fill="#fafafa"),
axis.ticks = element_blank(),
legend.position="none",
strip.background = element_blank(),
strip.text.x = element_blank(),
plot.background = element_rect(fill="#ffffff"),
panel.grid.major = element_line(colour="#dddddd", size=.5),
panel.grid.minor = element_line(colour="#dddddd", size=.5),
panel.spacing = unit(4, "lines"),
axis.text = element_blank(),
axis.title = element_blank()
)
test_ratios
